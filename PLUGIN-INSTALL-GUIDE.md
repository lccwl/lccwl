# AI智能网站优化器 v2 - 安装使用指南

## 🎯 重要提示

**请使用 `ai-website-optimizer-v2.php` 文件，这是完全修复和优化后的版本！**

## 为什么创建v2版本？

之前在添加新功能时，代码中出现了语法错误（多余的括号），导致插件无法激活。v2版本经过完整重构，确保：

✅ **无语法错误** - 所有括号配对正确，代码结构完整
✅ **功能完整** - 包含所有最新的AI对接和WordPress发布功能
✅ **命名空间独立** - 使用新的类名避免冲突
✅ **代码优化** - 改进了JavaScript交互和错误处理

## 安装步骤

### 1. 下载插件
下载 `ai-website-optimizer-v2.php` 文件到本地

### 2. 上传到WordPress
- 方法1：通过FTP上传到 `/wp-content/plugins/` 目录
- 方法2：在WordPress后台，选择"插件" → "添加新插件" → "上传插件"

### 3. 激活插件
在WordPress后台"插件"页面找到"AI智能网站优化器 v2"并激活

### 4. 配置API密钥
1. 在左侧菜单找到"AI智能优化器"
2. 点击"插件设置"
3. 输入您的Siliconflow API密钥
4. 点击"保存设置"
5. 点击"测试API连接"验证密钥

## 核心功能

### 1. AI内容生成（支持4种类型）
- **文本内容**：使用Qwen/QwQ-32B模型生成高质量文章
- **图片生成**：使用Stable Diffusion生成1024x1024图片
- **视频生成**：使用LTX-Video生成视频内容
- **音频生成**：使用Fish Speech生成语音内容

### 2. WordPress自动发布
- **草稿保存**：生成的内容保存为草稿
- **立即发布**：直接发布到网站前台
- **定时发布**：设置未来时间自动发布

### 3. 实时状态显示
- 生成过程中显示进度信息
- 不同内容类型有不同的状态提示
- 完成后自动显示结果

### 4. 性能监控
- 实时监控网站性能指标
- 图表化显示响应时间
- 系统资源使用情况追踪

### 5. SEO优化
- AI驱动的SEO分析
- 优化建议自动生成
- 关键词密度检查

## 使用流程

### 生成并发布内容

1. **进入AI工具页面**
   - 点击"AI智能优化器" → "AI工具"

2. **选择生成类型**
   - 文本内容、图片生成、视频生成、音频生成

3. **输入提示词**
   - 详细描述您需要的内容
   - 例如："写一篇关于人工智能在医疗领域应用的文章"

4. **点击生成内容**
   - 系统会显示实时生成状态
   - 等待内容生成完成

5. **设置发布选项**
   - 填写文章标题
   - 选择发布类型（草稿/立即/定时）
   - 如选择定时，设置发布时间

6. **发布到WordPress**
   - 点击"发布到WordPress"按钮
   - 系统会返回编辑链接

## 常见问题解决

### Q: 插件无法激活？
A: 请确保使用的是 `ai-website-optimizer-v2.php` 文件，不要使用旧版本。

### Q: API连接失败？
A: 
- 检查API密钥是否正确
- 确保服务器能访问 api.siliconflow.cn
- 查看错误信息获取具体原因

### Q: 内容生成超时？
A: 
- 视频生成需要较长时间（最多5分钟）
- 检查网络连接是否稳定
- 可以尝试生成其他类型内容测试

### Q: 发布失败？
A: 
- 检查当前用户是否有发布权限
- 确保标题和内容都已填写
- 查看WordPress错误日志

## 技术支持

如遇到问题，请检查：
1. PHP版本是否 >= 7.4
2. WordPress版本是否 >= 5.0
3. 是否有有效的Siliconflow API密钥
4. 服务器是否允许外部API调用

## 版本历史

### v2.0.0 (2025-07-07)
- 完全重构代码，修复所有语法错误
- 实现完整的Siliconflow API对接
- 添加WordPress自动发布功能
- 优化用户界面和交互体验
- 增强错误处理和反馈机制

### v1.0.0 (初始版本)
- 基础功能实现
- 存在语法错误导致激活问题